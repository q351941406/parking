import{_ as k,u as w,$ as T,b as L,o as n,c as d,d as v,w as y,e as u,a as s,F as I,f as Y,s as C,t as a,n as S,a7 as B,p as M,i as D}from"./index-EgUD6bev.js";import{I as F}from"./IconBack-kSM-6Ncb.js";import{F as H}from"./index-itkDzUCr.js";import{r as N,d as p}from"./request-HQCzHYhL.js";import"./_commonjsHelpers-5-cIlDoe.js";const e=r=>(M("data-v-59295691"),r=r(),D(),r),V={class:"content","data-theme":"cupcake"},z={class:"navbar bg-base-100 shadow-sm"},O={class:"navbar-start"},$=e(()=>s("div",{class:"navbar-center"},[s("h1",{class:"text-xl"},"订单")],-1)),j=e(()=>s("div",{class:"navbar-end"},null,-1)),q={key:0,class:"center-box"},E={key:0,class:"loading loading-spinner loading-lg"},P={class:"list"},R={class:"header"},A={class:"header-box"},G={class:"left"},J={class:"rigth"},K=e(()=>s("div",{class:"border-box"},null,-1)),Q={class:"item-main"},U={class:"item-main-row"},W=e(()=>s("div",{class:"left"},"单日价格",-1)),X={class:"price stat-value text-accent text-xl"},Z={class:"item-main-row"},ss=e(()=>s("div",{class:"left"},"环境",-1)),ts={class:"rigth"},es={class:"item-main-row"},os=e(()=>s("div",{class:"left"},"航班号",-1)),as={class:"rigth"},is={class:"item-main-row"},cs=e(()=>s("div",{class:"left"},"车牌号",-1)),ns={class:"rigth licence-plate"},ds={class:"item-main-row"},rs=e(()=>s("div",{class:"left"},"进场时间",-1)),ls={class:"rigth"},_s={class:"item-main-row"},hs=e(()=>s("div",{class:"left"},"离场时间",-1)),ms={class:"rigth"},vs={class:"item-main-row"},us=e(()=>s("div",{class:"left"},"来源",-1)),ps={class:"rigth"},fs={class:"item-main-row"},gs=e(()=>s("div",{class:"left"},"状态",-1)),bs=["onClick"],xs={__name:"OrderList",setup(r){const h=w(),i=T({isLoading:!0,list:[]}),f=async()=>{const{id:l}=C.state.userInfo;i.isLoading=!0;const m=await N("admin/order/getList","get",{user_id:l});i.isLoading=!1;const{data:t=[]}=m;i.list=t.map(c=>{const{endTime:_,starTime:x,from_source:o}=c;return{...c,fromSourceText:o==0?"未分配":o==1?"淘车位":o==2?"小强":o==3?"泊安飞":o==4?"抖音":o==5?"闲鱼":o==6?"小红书":o==7?"快手":o==8?"视频号":o==9?"商务合作":"",starTimeText:p(x).format("YYYY-MM-DD HH:mm:ss"),endTimeText:_?p(_).format("YYYY-MM-DD HH:mm:ss"):"-"}})},g=l=>{h.push({name:"CameraList"})};function b(){h.go(-1)}return L(()=>{f()}),(l,m)=>(n(),d("div",V,[v(H,null,{default:y(()=>[s("div",z,[s("div",O,[s("button",{class:"btn btn-ghost",onClick:b},[v(F,{class:"size-5"})])]),$,j])]),_:1}),i.isLoading?(n(),d("div",q,[i.isLoading?(n(),d("span",E)):u("",!0)])):u("",!0),s("div",P,[(n(!0),d(I,null,Y(i.list,(t,c)=>(n(),d("div",{class:"item",key:c},[s("div",R,[s("div",A,[s("div",G,"订单"+a(c+1),1),s("div",J,a(t.ParkingLot.title),1)]),K]),s("div",Q,[s("div",U,[W,s("div",X," ￥"+a(t.price),1)]),s("div",Z,[ss,s("div",ts,a(t.environmentText==0?"室内":"室外"),1)]),s("div",es,[os,s("div",as,a(t.flight),1)]),s("div",is,[cs,s("div",ns,a(t.plateNumber),1)]),s("div",ds,[rs,s("div",ls,a(t.starTimeText),1)]),s("div",_s,[hs,s("div",ms,a(t.endTimeText),1)]),s("div",vs,[us,s("div",ps,a(t.fromSourceText),1)]),s("div",fs,[gs,s("div",{class:S(["rigth status",{fetched:t.status==3,tobeTaken:t.status==2,standBy:t.status==1}])},null,2)]),s("button",{class:"btn btn-block btn-primary",onClick:B(_=>g(),["stop"])}," 查看监控 ",8,bs)])]))),128))])]))}},Is=k(xs,[["__scopeId","data-v-59295691"]]);export{Is as default};
