import{_ as k,o as t,c as e,a as s,r as v,u as z,v as j,b as N,s as h,d as g,w as V,e as p,F as w,f as x,g as f,t as b,h as F,p as B,i as O}from"./index-EgUD6bev.js";import{I as A}from"./IconPoint-MPMpTGQP.js";import{F as D}from"./index-itkDzUCr.js";const E="/assets/avator-nUHq_lbQ.jpg",H={},L={t:"1704313781359",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"9354",width:"248",height:"248"},M=s("path",{d:"M372.134088 1004.846981a509.94041 509.94041 0 0 1-159.298198-76.821527l2.164315-103.514738a93.088793 93.088793 0 0 0-74.238313-93.088794l-101.536602-20.991523A509.428422 509.428422 0 0 1 0.011636 537.983409l82.243949-62.834935a93.088793 93.088793 0 0 0 26.507034-116.104998l-46.89348-92.390627A514.152678 514.152678 0 0 1 172.225904 128.415991l100.419536 25.133974a93.088793 93.088793 0 0 0 107.284834-51.664281l43.007023-94.252403a515.246472 515.246472 0 0 1 88.434354-7.610009c30.137497 0 59.669917 2.606486 88.411081 7.610009l43.007023 94.252403a93.088793 93.088793 0 0 0 107.284834 51.664281l100.396264-25.133974a514.152678 514.152678 0 0 1 110.356765 138.236858l-46.870208 92.390627a93.088793 93.088793 0 0 0 26.483762 116.104998l82.243949 62.834935a509.428422 509.428422 0 0 1-39.213654 172.44699l-101.51333 20.968251a93.088793 93.088793 0 0 0-74.238312 93.088793l2.141042 103.538011a509.94041 509.94041 0 0 1-159.298198 76.798255l-79.684007-66.279221a93.088793 93.088793 0 0 0-119.060567 0l-79.684007 66.302493zM511.348378 721.461421a209.449785 209.449785 0 1 0 0-418.89957 209.449785 209.449785 0 0 0 0 418.89957z",fill:"currentColor",stroke:"currentColor","p-id":"9355"},null,-1),P=[M];function R(a,l){return t(),e("svg",L,P)}const T=k(H,[["render",R]]),m=a=>(B("data-v-ff134cf9"),a=a(),O(),a),U={"data-theme":"cupcake",class:"bg-base-100"},q={class:"navbar shadow-sm"},Q={class:"flex-none"},G={class:"btn btn-sm",onclick:"alert('目前仅开通成都市');"},J={class:"flex-1"},K={class:"flex-none gap-2"},W={class:"dropdown dropdown-end"},X={tabindex:"0",role:"button",class:"btn btn-ghost btn-circle avatar"},Y={class:"btn btn-circle"},Z={tabindex:"0",class:"mt-3 z-[1] p-2 shadow menu menu-lg dropdown-content bg-base-100 rounded-box w-52"},ss=m(()=>s("span",{class:"badge"},"New",-1)),ts=m(()=>s("span",{class:"badge"},"看监控",-1)),es={key:0},os={key:0,class:"center-box"},as={key:0,class:"loading loading-spinner loading-lg"},ns={class:"flex justify-center"},cs={class:"grid card-compact grid-flow-row-dense grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 mx-3 mt-2"},ls=["src"],is={class:"card-body"},ds={class:"card-title text-sm"},rs=m(()=>s("p",{class:"text-xs"},"距离机场约9分钟车程",-1)),_s={class:"card-actions justify-end"},us=["onClick"],hs={__name:"HomeView",setup(a){const l=v(),i=v(!0),d=z(),y=j();function r(){d.push({name:"Profile"})}function I(){d.push({path:"/userOrderlist"})}async function C(){await y.logout(),h.commit("SET_USER_INFO",null),localStorage.removeItem("userInfo"),window.location.reload()}N(()=>{$()});const S=async o=>{d.push({name:"Detail",params:{id:o.id}})},$=async()=>{const o=h.state.userInfo,_=o?o.token:null,c=await(await fetch("http://localhost:9000/get_parking_lot",{headers:_?{Authorization:`${_}`}:{}})).json();c.code===0?l.value=c.data:alert(c.message),i.value=!1};return(o,_)=>(t(),e("div",U,[g(D,null,{default:V(()=>[s("div",q,[s("div",Q,[s("button",G,[f(" 成都 "),g(A,{class:"size-5"})])]),s("div",J,[s("div",{class:"avatar"},[s("div",{class:"size-10 rounded-full"},[s("img",{src:E,onClick:r,alt:""})])]),s("div",{class:"badge badge-secondary badge-lg ml-0",onClick:r},b(o.$store.state.userInfo&&o.$store.state.userInfo.phone||"请登录"),1)]),s("div",K,[s("div",W,[s("div",X,[s("button",Y,[g(T,{class:"text-primary-500 size-6"})])]),s("ul",Z,[s("li",null,[s("button",{class:"justify-between",onClick:r},[f(" 个人中心 "),ss]),s("button",{class:"justify-between",onClick:I},[f(" 订单 "),ts])]),F(h).state.userInfo?(t(),e("li",es,[s("button",{onClick:C},"退出登录")])):p("",!0)])])])])]),_:1}),i.value?(t(),e("div",os,[i.value?(t(),e("span",as)):p("",!0)])):p("",!0),s("div",ns,[s("div",cs,[(t(!0),e(w,null,x(l.value,(n,c)=>(t(),e("div",{key:c,class:"card w-full shadow-xl"},[s("figure",null,[s("img",{src:n.scene_imgs[0].url,alt:"Shoes"},null,8,ls)]),s("div",is,[s("h2",ds,b(n.title)+" ",1),rs,s("div",_s,[(t(!0),e(w,null,x(n.tag,u=>(t(),e("div",{key:u,class:"badge badge-accent badge-outline badge-sm"},b(u.title),1))),128)),s("button",{class:"btn btn-block btn-primary",onClick:u=>S(n)}," 查看 ",8,us)])])]))),128))])])]))}},bs=k(hs,[["__scopeId","data-v-ff134cf9"]]);export{bs as default};
